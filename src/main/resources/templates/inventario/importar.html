<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head}"></head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
    <nav th:replace="~{fragments/layout :: navbar}"></nav>
    <aside th:replace="~{fragments/layout :: sidebar(active='inventario')}"></aside>

    <div class="content-wrapper">
        <section class="content-header">
            <div class="container-fluid"><h1><i class="fas fa-file-excel"></i> Importación Masiva</h1></div>
        </section>

        <section class="content">
            <div class="container-fluid">
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card card-info">
                            <div class="card-header"><h3 class="card-title">Instrucciones</h3></div>
                            <div class="card-body">
                                <p>Sube un archivo Excel (<strong>.xlsx</strong>) con el siguiente formato de columnas (sin fórmulas):</p>
                                <table class="table table-bordered table-sm text-center">
                                    <thead class="bg-light">
                                        <tr>
                                            <th>A</th>
                                            <th>B</th>
                                            <th>C</th>
                                            <th>D</th>
                                            <th>E</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>NOMBRE</td>
                                            <td>CÓDIGO</td>
                                            <td>COSTO</td>
                                            <td>PRECIO</td>
                                            <td>STOCK</td>
                                        </tr>
                                        <tr>
                                            <td>Cuaderno A4</td>
                                            <td>775001...</td>
                                            <td>2.50</td>
                                            <td>5.00</td>
                                            <td>100</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="alert alert-warning mt-2">
                                    <i class="fas fa-exclamation-triangle"></i> La primera fila se ignora (Cabecera).
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card card-primary">
                            <div class="card-header"><h3 class="card-title">Subir Archivo</h3></div>
                            <form action="/inventario/upload" method="post" enctype="multipart/form-data">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>Seleccionar Archivo Excel</label>
                                        <div class="custom-file">
                                            <input type="file" name="file" class="custom-file-input" id="customFile" accept=".xlsx" required>
                                            <label class="custom-file-label" for="customFile">Elegir archivo...</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <button type="submit" class="btn btn-primary btn-block">
                                        <i class="fas fa-upload"></i> PROCESAR IMPORTACIÓN
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </div>
</div>
<div th:replace="~{fragments/layout :: scripts}"></div>
<script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js"></script>
<script>
    $(document).ready(function () {
        bsCustomFileInput.init();
    });
    
    // Alerta de éxito/error usando tus scripts del layout
    /* th:inline="javascript" */
    /*<![CDATA[*/
    var success = /*[[${success}]]*/ null;
    var error = /*[[${error}]]*/ null;
    if(success) Swal.fire('Éxito', success, 'success');
    if(error) Swal.fire('Error', error, 'error');
    /*]]>*/
</script>
</body>
</html>